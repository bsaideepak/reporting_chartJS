<!doctype html>
<html>
	<head>
		<title>Pie Chart</title>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
		<style type="text/css">
		.pie-legend {
	list-style: none;
	margin: 0;
	padding: 0;
}
.pie-legend span {
	display: inline-block;
	width: 14px;
	height: 14px;
	border-radius: 100%;
	margin-right: 16px;
	margin-bottom: -2px;
}
.pie-legend li {
	margin-bottom: 10px;
}</style>
		<script src="../Chart.js"></script>
	</head>
	<body>
		<div class="chart" style="float: left;">
	<canvas id="property_types" class="pie" width="500"></canvas>
	<div id="pie_legend" style="float: right;"></div>
</div>

	<script>

		// global options variable
	var options = {
		responsive: true,
		scaleBeginAtZero: true,
        // you don't have to define this here, it exists inside the global defaults
		legendTemplate: "<ul class=\"<%=name.toLowerCase()%>-legend\"><% for (var i=0; i<segments.length; i++){%><li><span style=\"background-color:<%=segments[i].fillColor%>\"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>"
	}

		// PIE
		// PROPERTY TYPE DISTRIBUTION
		// context
		var ctxPTD = $("#property_types").get(0).getContext("2d");
		// data
		var dataPTD = [
			{
				label: "Single Family Residence",
				color: "#FF6C47",
				highlight: "#FF6C47",
				value: 52
			},
			{
				label: "Townhouse/Condo",
				color: "#FF7B59",
				highlight: "#FF7B59",
				value: 12
			},
			{
				label: "Land",
				color: "#FF896C",
				highlight: "#FF896C",
				value: 6
			},
			{
				label: "Multifamily",
				color: "#FF987E",
				highlight: "#FF987E",
				value: 8
			},
			{
				label: "Farm/Ranch",
				color: "#FFA791",
				highlight: "#FFA791",
				value: 8
			},
			{
				label: "Commercial",
				color: "#FFB6A3",
				highlight: "#FFB6A3",
				value: 14
			},
			
		]

		// Property Type Distribution
		var propertyTypes = new Chart(ctxPTD).Pie(dataPTD, options);
			// pie chart legend
			$("#pie_legend").html(propertyTypes.generateLegend());






	</script>
	</body>
</html>
